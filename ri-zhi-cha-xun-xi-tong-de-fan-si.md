####日志查询系统的架构
1. 通过日志查询,当系统出现问题的时候,发现问题
2. 机器少可以通过登录服务器查询,机器多的时候,这个方式变不可能了

####解决的方案
页面化,把机器上的日志实时收集，统一的存储到中心系统,再建立索引,提供一个web界面实现搜索.
####我的系统应该怎么样
1. 能查询按亿条算,实时,分钟级别,能扩展

###业界主流方案ELK
![](/assets/图片1.png)

缺点
1. 运维成本高，每增加一个日志收集，都需要手动修改配置
2. 监控缺失，无法准确获取logstash的状态
3. 无法做定制化开发以及维护
<br>
<br>

<br>


####我的架构
![](/assets/图片2.png)

1. Log Agent，日志收集客户端，用来收集服务器上的日志
2. Kafka，高吞吐量的分布式队列，linkin开发，apache顶级开源项目
3. ES，elasticsearch，开源的搜索引擎，提供基于http restful的web接口
4. Hadoop，分布式计算框架，能够对大量数据进行分布式处理的平台


